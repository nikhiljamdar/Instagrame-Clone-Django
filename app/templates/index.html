{% extends 'base.html' %}
{% load static %}
{% block content %}

    <main class="main-container">
        <section class="content-container">
            <div class="content">
                <div class="stories">
                    <button class="stories__left-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path fill="var(--primary)" d="M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"></path>
                        </svg>
                    </button>
                    <div class="stories__content">


                        <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <img src="{{request.user.profile.image.url}}" style="width: 80px; height: 80px; object-fit: cover;">
                                </div>
                            </div>
                            <span class="story__user">@{{request.user.username}}</span>
                        </button>
                        <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <img src="{% static 'assets2/images/8.jpg' %}">
                                </div>
                            </div>
                            <span class="story__user">@destiny</span>
                        </button>
                    <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <!-- <img src="{% static 'assets2/images/1.jpg' %}"> -->
                                </div>
                            </div>
                            <span class="story__user">@james</span>
                        </button>
                        <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <!-- <img src="{% static 'assets2/images/2.jpg' %}" style="width: 100px; height: 100px; object-fit: cover;"> -->
                                </div>
                            </div>
                            <span class="story__user">@samuel</span>
                        </button>
                        <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <img src="{% static 'assets2/images/5.jpg' %}" style="width: 100px; height: 100px; object-fit: cover;">
                                </div>
                            </div>
                            <span class="story__user">@princewill</span>
                        </button>
                         <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <!-- <img src="{% static 'assets2/images/7.png' %}"> -->
                                </div>
                            </div>
                            <span class="story__user">@robert</span>
                        </button>
                        <button class="story">
                            <div class="story__avatar">
                                <div class="story__border">
                                    <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <circle r="31" cy="32" cx="32"/>
                                    </svg>
                                </div>
                                <div class="story__picture">
                                    <img src="{% static 'assets2/images/4.jpg' %}">
                                </div>
                            </div>
                            <span class="story__user">@destiny</span>
                        </button>
                    </div>
                    <button class="stories__right-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path fill="var(--primary)" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm113.9 231L234.4 103.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L285.1 256 183.5 357.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L369.9 273c9.4-9.4 9.4-24.6 0-34z"></path>
                        </svg>
                    </button>
                </div>

                <div class="posts">
                    {% if posts %}
    {% for post in posts %}
        <div class="post">
            <p>{{ post.caption }}</p>
            <p>Tags: {{ post.tags }}</p>
            
            <!-- Display the image with a fixed size -->
            {% if post.picture %}
                <img src="{{ post.picture.url }}" alt="Post Image" class="fixed-image" style="max-width: 60%;
                margin-left: 20%;
                margin-bottom: 10%;
                border-radius: 19px;">
            {% else %}
                <p>No image available.</p>
            {% endif %}
        </div>
    {% endfor %}
{% else %}
    <p>No posts found.</p>
{% endif %}


                    <div class="side-menu__suggestions-content" style="padding: 0 40px;">
                         <div class="side-menu__suggestions-header">
                        <h2>Suggestions for You</h2>
                        <button>See All</button>
                    </div>
                        {% for user in all_users %}
                        {% if request.user.username != user.username %}
                        <div class="side-menu__suggestion">
                            <a href="{% url 'profile' user %}" class="side-menu__suggestion-avatar">
                                <img src="{{user.profile.image.url}}" alt="User Picture">
                            </a>
                            
                            <div class="side-menu__suggestion-info">
                                {% if user.profile.first_name %}
                                <a href="{% url 'profile' user %}">{{user.profile.first_name|title}} {{user.profile.last_name|title}}</a>
                                {% else %}
                                <a href="{% url 'profile' user %}">{{user.username}}</a>
                                {% endif %}
                                <span>@{{user.username}}</span>
                            </div>

                            {% if follow_status == True %}
                            <a href="{% url 'follow' user 0 %}" class="side-menu__suggestion-button">Follow</a>
                            {% else %}
                            <a href="{% url 'follow' user 1 %}" class="side-menu__suggestion-button" >Follow</a>
                            {% endif %}
                        </div>
                        {% endif %}
                        {% endfor %}
                        
                    </div>
                </div>
            </div>

            <section class="side-menu">
                <div class="side-menu__user-profile">
                    <a href="#" target="_blank" class="side-menu__user-avatar">
                        <img src="{{ request.user.profile.image.url }}" alt="User Picture">
                    </a>
                    <div class="side-menu__user-info">
                        {% if user.profile.first_name %}
                        <a href="{{request.user.username}}">{{request.user.profile.first_name|title }} {{request.user.profile.last_name|title }}</a>
                        {% else %}
                        <a href="{{request.user.username}}">{{user.username}}</a>
                        {% endif %}
                        <span>@{{request.user.username}}</span>
                    </div>
                    <a class="side-menu__user-button">View Profile</a>
                </div>

                <div class="side-menu__suggestions-section">
                    <div class="side-menu__suggestions-header">
                        <h2>Suggestions for You</h2>
                        <button>See All</button>
                    </div>
                    <div class="side-menu__suggestions-content">
                        {% for user in all_users %}
                            {% if request.user.username != user.username %}
                            <div class="side-menu__suggestion">
                                <a href="{% url 'profile' user %}" class="side-menu__suggestion-avatar">
                                    <img src="{{user.profile.image.url}}" alt="User Picture">
                                </a>
                                
                                <div class="side-menu__suggestion-info">
                                    {% if user.profile.first_name %}
                                    <a href="{% url 'profile' user %}">{{user.profile.first_name|title}} {{user.profile.last_name|title}}</a>
                                    {% else %}
                                    <a href="{% url 'profile' user %}">{{user.username}}</a>
                                    {% endif %}
                                    <span>@{{user.username}}</span>
                                </div>

                                {% if follow_status == True %}
                                <a href="{% url 'follow' user 0 %}" class="side-menu__suggestion-button">Follow</a>
                                {% else %}
                                <a href="{% url 'follow' user 1 %}" class="side-menu__suggestion-button">Follow</a>
                                {% endif %}
                            </div>
                            {% endif %}
                        {% endfor %}
                        
                    </div>
                </div>
            </section>

            
{% endblock content %}
